@page "/CreateEmployee"
@using DeepFreez.WebApp.Service;
@using DeepFreez.WebApp.Model;


@inject EmployeeService EmployeeService

<h3>Create a New Employee</h3>


<p>Please Provide the necessary information</p>

<form>
    <div class="form-group">
        <label for="Username">Username</label>
        <input type="text" class="form-control" id="Username" placeholder="Username" @bind="Username"/>
    </div>
    <br />

    <div class="form-group">
        <label for="NIC">NIC</label>
        <input type="text" class="form-control" id="NIC" placeholder="NIC" @bind="NIC">
    </div>
    <br />

    <div class="form-group">
        <label for="Mobile">Mobile</label>
        <input type="text" class="form-control" id="Mobile" placeholder="Mobile" @bind="Mobile">
    </div>
    <br />

    <div class="form-group">
        <label for="Email">Email Address</label>
        <input type="text" class="form-control" id="Email" placeholder="Email" @bind="Email">
    </div>
    <br />

    <div class="form-group">
        <label for="Physical">Physical Address</label>
        <input type="text" class="form-control" id="Physical" placeholder="Physical" @bind="Physical">
    </div>
    <br />

    <div class="form-group">
        <label for="Role">Employee Role</label>
        <input type="text" class="form-control" id="Role" placeholder="Role" @bind="Role">
    </div>
    <br />

    <div class="form-group">
        <label for="Privilege">Privilege</label>
        <input type="text" class="form-control" id="Privilege" placeholder="Privilege" @bind="Privilege">
    </div>
    <br />
    <button type="button" class="btn btn-primary" @onclick="CreateUser">Create Account</button>
</form>


@code {
    private string Username;
    private string NIC;
    private string Mobile;
    private string Physical;
    private string Role;
    private string Privilege;
    private string Email;

    private async void CreateUser()
    {
        Employee Employee = new Employee();

        Employee.NIC = NIC;
        Employee.Name = Username;
        Employee.Contact = new Contact() {EmailAddress = Email, Mobile = Mobile, PhysicalAddress = Physical };
        Employee.Roles = new Roles() { EmployeeRole = Role, Privilege = Privilege};
        Employee.WorkTasks = new List<WorkTask>();

        await EmployeeService.CreateEmployee(Employee);
    }
}
